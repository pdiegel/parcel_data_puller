COUNTY_URLS:
  WAKE: "https://services.arcgis.com/v400IkDOw1ad7Yad/arcgis/rest/services/Raleigh_Parcels_Nash_Square/FeatureServer/0/query"

COUNTIES_REQUIRING_ADDITIONAL_PROCESSING:
  WAKE:
    PLAT_BOOK:
      REGEX: "BM(\\d+)"
      SOURCE: "LEGAL_DESCRIPTION"
    PLAT_PAGE:
      REGEX: "-\\s*(\\d+)"
      SOURCE: "LEGAL_DESCRIPTION"

COUNTY_URL_MAPPING:
  WAKE:
    PROPERTY_APPRAISER:
      TYPE: "DIRECT"
      TEMPLATE: "https://services.wake.gov/realestate/Account.asp?id=[PARCEL_ID]"
    DEED:
      TYPE: "PLAYWRIGHT"
      TEMPLATE: "https://rodcrpi.wakegov.com/Booksweb/GenExtSearch.aspx"
      ACTIONS:
        - WAIT_FOR_ID: "ctl00_ContentPlaceHolder1_RadTextBook"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadTextBook"
        - ENTER_TEXT: "[DEED_BOOK]"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadTextPage"
        - ENTER_TEXT: "[DEED_PAGE]"
        - FIND_BY_ID: "ContentPlaceHolder1_btnExtSearch"
        - CLICK:
        - WAIT_FOR_ID: "ctl00_ContentPlaceHolder1_RadGridResults_ctl00"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadGridResults_ctl00_ctl04_gbcDocument"
        - CLICK:
        - WAIT_FOR_NEW_WINDOW:
        - SWITCH_WINDOW:
        - RETURN: "WINDOW_URL"
    PLAT:
      TYPE: "PLAYWRIGHT"
      TEMPLATE: "https://rodcrpi.wakegov.com/Booksweb/GenExtSearch.aspx"
      ACTIONS:
        - WAIT_FOR_ID: "ctl00_ContentPlaceHolder1_RadTextBook"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadTextBook"
        - ENTER_TEXT: "BM[PLAT_BOOK]"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadTextPage"
        - ENTER_TEXT: "[PLAT_PAGE]"
        - FIND_BY_ID: "ContentPlaceHolder1_btnExtSearch"
        - CLICK:
        - WAIT_FOR_ID: "ctl00_ContentPlaceHolder1_RadGridResults_ctl00"
        - FIND_BY_ID: "ctl00_ContentPlaceHolder1_RadGridResults_ctl00_ctl04_gbcDocument"
        - CLICK:
        - WAIT_FOR_NEW_WINDOW:
        - SWITCH_WINDOW:
        - RETURN: "WINDOW_URL"

COUNTY_FIELD_MAPPING:
  WAKE:
    LAND_AREA: "CALC_AREA"
    PARCEL_ID: "REID"
    OWNER_NAME: "OWNER"
    OWNER_MAILING_ADDRESS1: "ADDR1"
    OWNER_MAILING_ADDRESS2: "ADDR2"
    OWNER_MAILING_ADDRESS3: "ADDR3"
    DEED_BOOK: "DEED_BOOK"
    DEED_PAGE: "DEED_PAGE"
    DEED_DATE: "DEED_DATE"
    DEED_ACRES: "DEED_ACRES"
    BLDG_VALUE: "BLDG_VAL"
    LAND_VALUE: "LAND_VAL"
    TOTAL_PROPERTY_VALUE: "TOTAL_VALUE_ASSD"
    LEGAL_DESCRIPTION: "PROPDESC"
    STREET_NAME: "STNAME"
    STREET_TYPE: "STYPE"
    STREET_PREFIX: "STPRE"
    STREET_SUFFIX: "STSUF"
    STREET_NUMBER: "STNUM"
    STREET_MISC: "STMISC"
    SITUS_ADDRESS: "SITE_ADDRESS"
    FULL_STREET_NAME: "FULL_STREET_NAME"
    CITY: "CITY_DECODE"
    PLANNING_JURISDICTION: "PLANNING_JURISDICTION"
    TOWNSHIP: "TOWNSHIP"
    YEAR_BUILT: "YEAR_BUILT"
    TOTAL_SALE_PRICE: "TOTSALPRICE"
    SALE_DATE: "SALE_DATE"
    PROPERTY_CLASSIFICATION: "LAND_CLASS_DECODE"
    NUM_STRUCTURES: "TOTSTRUCTS"
    NUM_UNITS: "TOTUNITS"
    OLD_PARCEL_NUMBER: "OLD_PARCEL_NUMBER"
    ZIP_CODE: "ZIPNUM"
